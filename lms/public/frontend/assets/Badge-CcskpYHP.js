import{d as n,a9 as f,ae as b,j as l,k as h,A as t,x as v,y,B as o,C as r,F as B}from"./frappe-ui-C1kNCtW7.js";const x={key:0},N={class:"p-5 flex flex-col items-center mt-40"},S={class:"text-3xl font-semibold"},j=["src","alt"],k={class:"text-lg"},M={class:"text-lg mt-2"},Y={__name:"Badge",props:{badgeName:{type:String,required:!0},email:{type:String,required:!0}},setup(i){const m=n("$allUsers"),u=n("$dayjs"),_=f(),a=i,e=b({doctype:"LMS Badge",name:a.badgeName}),g=l(()=>{const s=Object.values(m.data).find(c=>c.name===a.email);return s?s.full_name:a.email}),p=h({url:"frappe.client.get_value",makeParams(s){return{doctype:"LMS Badge Assignment",filters:{member:a.email,badge:a.badgeName},fieldname:"issued_on"}},onSuccess(s){s.issued_on||_.push({name:"Courses"})},auto:!0});return l(()=>[{label:"Badges"},{label:e.doc.title,route:{name:"Badge",params:{badge:e.doc.name}}}]),(s,c)=>{var d;return t(e).doc?(v(),y("div",x,[o("div",N,[o("div",S,r(t(e).doc.title),1),o("img",{src:t(e).doc.image,alt:t(e).doc.title,class:"h-60 mt-2"},null,8,j),o("div",k,r(s.__("This badge has been awarded to {0} on {1}.").format(g.value,t(u)((d=t(p).data)==null?void 0:d.issued_on).format("DD MMM YYYY"))),1),o("div",M,r(t(e).doc.description),1)])])):B("",!0)}}};export{Y as default};
//# sourceMappingURL=Badge-CcskpYHP.js.map
