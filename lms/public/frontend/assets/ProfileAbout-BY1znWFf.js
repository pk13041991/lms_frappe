import{d as $,k as M,x as r,y as l,B as t,C as o,A as n,J as x,K as B,F as y,N as c,H as _,a8 as v,I as w,X as C}from"./frappe-ui-C1kNCtW7.js";import{s as D,X as I,K as L,N}from"./index-z00NSwZC.js";const Y={class:"mt-7 mb-10"},T={class:"mb-3 text-lg font-semibold text-gray-900"},A=["innerHTML"],j={key:1,class:"text-gray-700 text-sm italic"},S={key:0,class:"mt-7 mb-10"},V={class:"mb-3 text-lg font-semibold text-gray-900"},H={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},O={class:"relative"},P=["src","alt"],z={key:0,class:"flex items-end bg-gray-100 p-2 text-xs font-semibold rounded-full absolute right-0 bottom-0"},F={class:"w-[250px] text-base"},K=["src","alt"],R={class:"p-5"},U={class:"text-2xl font-semibold mb-2"},X={class:"leading-5 mb-4"},q={class:"flex flex-col mb-4"},E={class:"text-xs text-gray-700 font-medium mb-1"},J={class:"flex flex-col"},G={class:"text-xs text-gray-700 font-medium mb-1"},Q={class:"flex items-center space-x-2"},W={class:"text-xs"},Z={class:"text-xs"},se={__name:"ProfileAbout",props:{profile:{type:Object,required:!0}},setup(m){const p=$("$dayjs"),{branding:k}=D(),u=m,h=M({url:"frappe.client.get_list",params:{doctype:"LMS Badge Assignment",fields:["name","badge","badge_image","badge_description","issued_on"],filters:{member:u.profile.data.name}},auto:!0,transform(s){let d=[],a=Object.groupBy(s,({badge:e})=>e);for(let e in a){let i=a[e][0];i.count=a[e].length,d.push(i)}return d}}),g=(s,d)=>{var b,f;let a;const e=encodeURIComponent(`${window.location.origin}/lms/badges/${s.badge}/${(b=u.profile.data)==null?void 0:b.email}`),i=`I am happy to announce that I earned the ${s.badge} badge on ${p(s.issued_on).format("DD MMM YYYY")} at ${(f=k.data)==null?void 0:f.brand_name}.`;d=="LinkedIn"?a=`https://www.linkedin.com/shareArticle?mini=true&url=${e}&text=${i}`:d=="Twitter"&&(a=`https://twitter.com/intent/tweet?text=${i}&url=${e}`),window.open(a,"_blank")};return(s,d)=>{var a;return r(),l(x,null,[t("div",Y,[t("h2",T,o(s.__("About")),1),m.profile.data.bio?(r(),l("div",{key:0,innerHTML:m.profile.data.bio,class:"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-gray-300 prose-th:border-gray-300 prose-td:relative prose-th:relative prose-th:bg-gray-100 prose-sm max-w-none !whitespace-normal"},null,8,A)):(r(),l("div",j,o(s.__("No introduction")),1))]),(a=n(h).data)!=null&&a.length?(r(),l("div",S,[t("h2",V,o(s.__("Achievements")),1),t("div",H,[(r(!0),l(x,null,B(n(h).data,e=>(r(),l("div",null,[c(n(C),{trigger:"hover",leaveDelay:.01},{target:_(()=>[t("div",O,[t("img",{src:e.badge_image,alt:e.badge,class:"h-[80px]"},null,8,P),e.count>1?(r(),l("div",z,[t("span",null,[c(n(I),{class:"w-3 h-3"})]),v(" "+o(e.count),1)])):y("",!0)])]),"body-main":_(()=>[t("div",F,[t("img",{src:e.badge_image,alt:e.badge,class:"bg-gray-100 rounded-t-md"},null,8,K),t("div",R,[t("div",U,o(e.badge),1),t("div",X,o(e.badge_description),1),t("div",q,[t("span",E,o(s.__("Issued on"))+": ",1),v(" "+o(n(p)(e.issued_on).format("DD MMM YYYY")),1)]),t("div",J,[t("span",G,o(s.__("Share on"))+": ",1),t("div",Q,[c(n(w),{variant:"outline",size:"sm",onClick:i=>g(e,"LinkedIn")},{prefix:_(()=>[c(n(L),{class:"h-3 w-3 text-gray-700"})]),default:_(()=>[t("span",W,o(s.__("LinkedIn")),1)]),_:2},1032,["onClick"]),c(n(w),{variant:"outline",size:"sm",onClick:i=>g(e,"Twitter")},{prefix:_(()=>[c(n(N),{class:"h-3 w-3 text-gray-700"})]),default:_(()=>[t("span",Z,o(s.__("Twitter")),1)]),_:2},1032,["onClick"])])])])])]),_:2},1032,["leaveDelay"])]))),256))])])):y("",!0)],64)}}};export{se as default};
//# sourceMappingURL=ProfileAbout-BY1znWFf.js.map
